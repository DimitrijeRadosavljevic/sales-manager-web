<div class="container-fluid">
    <table class="table">
        <thead class="table-primary">
          <tr>
            <th scope="col"><i class="bi bi-plus-circle icon btn text-danger" routerLink="/products/addNew" data-toggle="tooltip" data-placement="top" title="Add new product"></i></th>
            <th scope="col" class="text-center">Image</th>
            <th scope="col" class="text-center">Name</th>
            <th scope="col" class="text-center">Code</th>
            <th scope="col" class="text-center" >Color</th>
            <th scope="col" class="text-center">Dimensions</th>
            <th scope="col" class="text-center">Sale price</th>
            <th scope="col" class="text-center">Sale type</th>
            <th scope="col" class="text-center">Home delivery</th>
            <th scope="col" class="text-center">Quantity</th>
            <th scope="col" class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody *ngIf="products && products.length>0 && loading == 0">
          <tr *ngFor="let product of products | paginate: paginationConfig; let i = index">
            <th scope="row" class="align-items-center t-td">{{i+1}}</th>
            <th scope="row" class="text-center" ><img [src]="product.imagePath ? product.imagePath : '../assets/images/noimage.png'" alt="" height="70px" width="70px"></th>
            <td class="t-td text-center ">{{product.name}}</td>
            <td class="t-td text-center">{{product.code}}</td>
            <td class="t-td text-center">{{product.color ? product.color : '#'}}</td>
            <td class="t-td text-center">{{product.dimensions.x ? product.dimensions.x : '-'}} x {{product.dimensions.y ? product.dimensions.y : ' -'}} x {{product.dimensions.z ? product.dimensions.z : ' -'}}</td>
            <td class="t-td text-center ">{{product.staffSalePrice}}</td>
            <td class="t-td text-center ">{{product.staffSaleType}}</td>
            <td class="t-td text-center ">{{product.homeDelivery ? 'Yes' : 'No'}}</td>
            <td class="t-td text-center ">{{product.quantity}}</td>
            <td class="t-td-action text-center"><i class="bi bi-pencil-square text-warning icon btn" (click)="goToEdit(product)"></i><i class="bi bi-trash text-danger icon btn" data-toggle="modal" data-target="#deleteModal" (click)="setProductForDelete(product)"></i> <button (click)="delete(product)">Delete Test</button></td>
          </tr>
        </tbody>
      </table>
      <p *ngIf="loading == 0 && products && products.length == 0" class="text-center">You don't have any products yet</p>
      <div class="row justify-content-center mt-5" *ngIf="loading > 0">
        <div class="col-1">
            <div class="spinner-border text-primary" role="status"></div>
        </div>
    </div>
    <div class="row">
      <div class="col-lg-12 text-center">
        <pagination-controls [id]="paginationConfig.id" (pageChange)="onPageChange($event)"></pagination-controls>
      </div>
    </div>
      
</div>

<div class="modal fade" id="deleteModal" tabindex="-99" aria-hidden="true" *ngIf="productForDelete">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Delete Product</h5>
      </div>
      <div class="modal-body">
        Are you sure you want to delete this theme?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger" (click)="onDeleteProduct()" data-dismiss="modal">Delete</button>
      </div>
    </div>
  </div>
</div>